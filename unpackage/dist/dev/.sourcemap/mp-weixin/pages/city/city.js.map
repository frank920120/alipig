{"version":3,"sources":["uni-app:///main.js",null,"webpack:////Users/junfang/Documents/HBuilderProjects/alipig/pages/city/city.vue?aea0","webpack:////Users/junfang/Documents/HBuilderProjects/alipig/pages/city/city.vue?4c78","webpack:////Users/junfang/Documents/HBuilderProjects/alipig/pages/city/city.vue?ee73","uni-app:///pages/city/city.vue","webpack:////Users/junfang/Documents/HBuilderProjects/alipig/pages/city/city.vue?23aa","webpack:////Users/junfang/Documents/HBuilderProjects/alipig/pages/city/city.vue?8111"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,0F;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAk0B,CAAgB,kyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+Ct1B,8D;AACA;AACA,MADA,kBACA;AACA;AACA;AACA;AACA,mBADA,EADA;;AAIA;AACA,uBADA,EAJA;;AAOA;AACA,mBADA,EAPA;;AAUA;AACA,mBADA,EAVA;;AAaA;AACA,mBADA,EAbA;;AAgBA;AACA,mBADA,EAhBA;;AAmBA;AACA,mBADA,EAnBA,CADA;;;AAwBA,oBAxBA;AAyBA,kBAzBA;AA0BA,iBA1BA;AA2BA,qBA3BA;;AA6BA,GA/BA;AAgCA,SAhCA,qBAgCA;AACA;AACA,GAlCA;AAmCA;AACA,eADA,uBACA,GADA,EACA,MADA,EACA;AACA;AACA,KAHA,EAnCA;;AAwCA;AACA,aADA,uBACA;AACA;AACA;AACA,KAJA;AAKA,WALA,mBAKA,IALA,EAKA;AACA;AACA;AACA,KARA;AASA,aATA,uBASA;AACA;AACA,uCADA;;AAGA,KAbA;AAcA,cAdA,sBAcA,CAdA,EAcA;AACA;AACA,KAhBA;AAiBA,eAjBA,yBAiBA;AACA;AACA;AACA,KApBA;AAqBA,gBArBA,wBAqBA,CArBA,EAqBA;AACA,WADA,GACA,QADA,CACA,KADA;AAEA;AACA,KAxBA;AAyBA,YAzBA,oBAyBA,IAzBA,EAyBA;AACA;AACA;AACA,KA5BA;AA6BA,iBA7BA,2BA6BA;;AAEA,6DAFA,SAEA,GAFA;AAGA;AACA,yBAJA,GAIA,kDAJA;AAKA,oBALA,GAKA,WALA,CAKA,IALA;AAMA,8EANA;;AAQA,yCARA;;AAUA,KAvCA;AAwCA,eAxCA,yBAwCA;;AAEA,0CAFA,SAEA,GAFA;AAGA,yDAHA;;AAKA,uCALA;;AAOA,KA/CA,EAxCA,E;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAA+qC,CAAgB,+lCAAG,EAAC,C;;;;;;;;;;;ACAnsC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/city/city.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/city/city.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./city.vue?vue&type=template&id=5fb12034&\"\nvar renderjs\nimport script from \"./city.vue?vue&type=script&lang=js&\"\nexport * from \"./city.vue?vue&type=script&lang=js&\"\nimport style0 from \"./city.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/city/city.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./city.vue?vue&type=template&id=5fb12034&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./city.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./city.vue?vue&type=script&lang=js&\"","<template>\n  <view>\n    <!--搜索城市 -->\n    <view class=\"margin-search\">\n      <view class=\"search-cont\">\n        <view class=\"city-search\">\n          <image src=\"../../static/tab/sousuo.svg\" mode=\"widthFix\" class=\"search-img\" />\n          <input type=\"text\" placeholder=\"发现你感兴趣的目的地\" @focus=\"searchCity\" @input=\"handleSearch\" />\n        </view>\n        <view class=\"search-code\" v-if=\"!citynone\" @click=\"handleClose\">\n          <image src=\"../../static/tab/chaa.svg\" mode=\"widthFix\" />\n        </view>\n      </view>\n    </view>\n\n    <!-- 点击搜索隐藏 -->\n    <view v-if=\"citynone\">\n      <!-- 定位城市 -->\n      <view class=\"city-view\">\n        <view class=\"city-text\">当前定位城市</view>\n        <view class=\"posit-city\">\n          <image src=\"../../static/tab/gonglveb.png\" mode=\"widthFix\" />\n          <text class=\"city-text\" @click=\"clickCity\">{{address}}</text>\n        </view>\n      </view>\n\n      <!-- 热门城市 -->\n      <view class=\"hot-city\">热门城市</view>\n      <view class=\"menu-block\">\n        <block v-for=\"(item,index) in city\" :key=\"index\">\n          <view @click=\"hotCity(item.name)\">{{item.name}}</view>\n        </block>\n      </view>\n    </view>\n    <!-- 显示搜索的城市 -->\n    <view class=\"results\" v-if=\"!citynone\">\n      <block v-for=\"(item,index) in citydata\" :key=\"index\">\n        <view class=\"results-city\" @click=\"seekCity(item)\">\n          <image src=\"../../static/tab/gonglveb.png\" mode=\"widthFix\" />\n          <text>{{item}}</text>\n        </view>\n      </block>\n    </view>\n  </view>\n</template>\n\n<script>\nimport { getLocation, getSuggestion } from \"../../common/list\";\nexport default {\n  data() {\n    return {\n      city: [\n        {\n          name: \"昆明市\",\n        },\n        {\n          name: \"大理白族自治州\",\n        },\n        {\n          name: \"北京市\",\n        },\n        {\n          name: \"上海市\",\n        },\n        {\n          name: \"广州市\",\n        },\n        {\n          name: \"深圳市\",\n        },\n        {\n          name: \"杭州市\",\n        },\n      ],\n      citynone: true,\n      citydata: \"\",\n      address: \"\",\n      searchInput: \"\",\n    };\n  },\n  onReady() {\n    this.getLocation();\n  },\n  watch: {\n    searchInput(val, oldval) {\n      this.getSuggestion();\n    },\n  },\n  methods: {\n    clickCity() {\n      this.$store.commit(\"setHotCity\", this.address);\n      this.routeCity();\n    },\n    hotCity(city) {\n      this.$store.commit(\"setHotCity\", city);\n      this.routeCity();\n    },\n    routeCity() {\n      uni.switchTab({\n        url: `/pages/strategy/strategy`,\n      });\n    },\n    searchCity(e) {\n      this.citynone = false;\n    },\n    handleClose() {\n      this.citynone = true;\n      this.citydata = [];\n    },\n    handleSearch(e) {\n      let { value } = e.target;\n      this.searchInput = value;\n    },\n    seekCity(city) {\n      this.$store.commit(\"setHotCity\", city);\n      this.routeCity();\n    },\n    async getSuggestion() {\n      try {\n        const res = await getSuggestion(this.searchInput);\n        console.log(res);\n        let cityTitle = res.data.map((city) => city.title);\n        let { city } = res.data[0];\n        this.citydata = [city, ...cityTitle];\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async getLocation() {\n      try {\n        const res = await getLocation();\n        this.address = res.result.ad_info.city;\n      } catch (error) {\n        this.address = \"上海市\";\n      }\n    },\n  },\n};\n</script>\n\n<style>\npage {\n  background: #ffffff;\n}\n/* 搜索城市 */\n.margin-search {\n  margin-bottom: 40upx;\n}\n.city-search {\n  height: 70upx;\n  line-height: 70upx;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  background: #f8f8f8;\n  border-radius: 50upx;\n}\n.search-img {\n  margin: auto 0 auto 20upx;\n  width: 40upx;\n  height: 40upx;\n}\n.city-search input {\n  height: 70upx;\n  line-height: 70upx;\n  width: 100%;\n  font-size: 30upx;\n  color: #666666;\n}\n.search-cont {\n  display: flex;\n  justify-content: space-between;\n  height: 70upx;\n  align-items: center;\n  background: linear-gradient(to top, #ffe566 10%, #ffd300 100%);\n  padding: 30upx 20upx;\n}\n.search-code image {\n  width: 50upx;\n  height: 50upx;\n}\n.search-code {\n  width: 50upx;\n  height: 50upx;\n  padding: 0 15upx;\n}\n/* 定位城市 */\n.city-view image {\n  width: 40upx;\n  height: 40upx;\n  padding-right: 20upx;\n}\n.city-text {\n  font-size: 30upx;\n  color: #3f3f3f;\n}\n.posit-city {\n  display: flex;\n  align-items: center;\n  padding-left: 35upx;\n}\n.city-view {\n  display: flex;\n  align-items: center;\n  background: #f7f7f7;\n  padding: 20upx 10upx;\n  margin: 0 20upx;\n  border-radius: 6upx;\n}\n/* 热门城市 */\n.hot-city {\n  font-size: 30upx;\n  color: #999999;\n  margin: 50upx 20upx 0 20upx;\n}\n.menu-block view {\n  background: #f7f7f7;\n  border-radius: 6upx;\n  font-size: 27upx;\n  color: #333333;\n  text-align: center;\n  padding: 15upx;\n  margin: 20upx;\n}\n\n.menu-block {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n}\n/* 搜索的结果 */\n.results text {\n  display: block;\n  font-size: 30upx;\n  color: #ee9900;\n}\n.results-city image {\n  width: 40upx;\n  height: 40upx;\n  padding-right: 20upx;\n}\n.results-city {\n  display: flex;\n  align-items: center;\n  border-bottom: 1rpx solid #e5e5e5;\n  padding: 20upx 0;\n  margin: 0 20upx;\n}\n</style>","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./city.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./city.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1599473130422\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}